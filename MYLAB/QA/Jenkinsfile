pipeline {
   agent any
   
   stages{
       stage("first"){
          when {
             beforeAgent true
             branch 'main'
             changeset "terraform"
          }
          steps{
            script{
                sh 'echo "QA env"'
                sh 'uptime'
            }
          }
       }
   }
}

